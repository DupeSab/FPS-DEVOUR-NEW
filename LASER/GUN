--// leaked by tokinu
-- // discord.gg/brainrotworld > All!
-- // FINAL VERSION: Works with ANY tool (Brainrot, Steal, Laser Gun, etc.)
-- // Auto-equips Laser Gun â†’ Spams laser remote while ANY tool is equipped
get_service = function(service)
    return cloneref(game:GetService(service));
end;
local players = get_service("Players");
local replicated_storage = get_service("ReplicatedStorage");
local http_service = get_service("HttpService");
local run_service = get_service("RunService");
local user_input_service = get_service("UserInputService");

-- // references
local local_player = players.LocalPlayer;
local remote = replicated_storage.Packages.Net["RE/LaserGun_Fire"];
local settings = require(replicated_storage.Shared.LaserGunsShared).Settings;

-- // MAX LASER POWER
settings.Radius.Value = 256;
settings.MaxBounces.Value = 9999;
settings.MaxAge.Value = 1e6;
settings.StunDuration.Value = 60;
settings.ImpulseForce.Value = 1e6;
settings.Cooldown.Value = 0;

-- // states
local lagger_enabled = false;
local last_equipped = false;

-- // === GUI ===
local screen_gui = Instance.new("ScreenGui");
screen_gui.Name = "Tokinu Hub";
screen_gui.ResetOnSpawn = false;
screen_gui.Parent = local_player:WaitForChild("PlayerGui");

local frame = Instance.new("Frame");
frame.Size = UDim2.new(0, 260, 0, 175);
frame.Position = UDim2.new(0, 40, 0, 60);
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0);
frame.BackgroundTransparency = 0.4;
frame.Active = true;
frame.Draggable = true;
frame.Parent = screen_gui;

local corner = Instance.new("UICorner");
corner.CornerRadius = UDim.new(0, 14);
corner.Parent = frame;

-- GROK LOGO
local grok_logo = Instance.new("ImageLabel");
grok_logo.Size = UDim2.new(0, 38, 0, 38);
grok_logo.Position = UDim2.new(0, 12, 0, 8);
grok_logo.BackgroundTransparency = 1;
grok_logo.Image = "http://www.roblox.com/asset/?id=18347450507";
grok_logo.ScaleType = Enum.ScaleType.Fit;
grok_logo.Parent = frame;

-- TITLE
local title = Instance.new("TextLabel");
title.Size = UDim2.new(1, -20, 0, 32);
title.Position = UDim2.new(0, 10, 0, 8);
title.BackgroundTransparency = 1;
title.Text = "Tokinu Hub";
title.TextColor3 = Color3.fromRGB(255, 255, 255);
title.Font = Enum.Font.GothamBold;
title.TextSize = 19;
title.TextXAlignment = Enum.TextXAlignment.Center;
title.Parent = frame;

-- BUTTON
local button = Instance.new("TextButton");
button.Size = UDim2.new(1, -30, 0, 70);
button.Position = UDim2.new(0, 15, 0.5, -45);
button.Text = "Fps Devour\nR To Activate";
button.TextColor3 = Color3.fromRGB(255, 255, 255);
button.Font = Enum.Font.FredokaOne;
button.TextSize = 22;
button.BackgroundColor3 = Color3.fromRGB(0, 0, 0);
button.BackgroundTransparency = 0.3;
button.AutoButtonColor = false;
button.Parent = frame;

local button_corner = Instance.new("UICorner");
button_corner.CornerRadius = UDim.new(0, 12);
button_corner.Parent = button;

local button_gradient = Instance.new("UIGradient");
button_gradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 40)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 60, 60))
});
button_gradient.Rotation = 90;
button_gradient.Parent = button;

-- INFO TEXT
local info_text = Instance.new("TextLabel");
info_text.Size = UDim2.new(1, -30, 0, 20);
info_text.Position = UDim2.new(0, 15, 0, 130);
info_text.BackgroundTransparency = 1;
info_text.Text = "discord.gg/brainrotworld";
info_text.TextColor3 = Color3.fromRGB(200, 200, 200);
info_text.Font = Enum.Font.Gotham;
info_text.TextSize = 13;
info_text.TextXAlignment = Enum.TextXAlignment.Center;
info_text.Parent = frame;

-- // === AUTO-EQUIP LASER GUN ===
local function equip_laser_gun()
    local char = local_player.Character
    if not char then return false end
    local humanoid = char:FindFirstChildOfClass("Humanoid")
    if not humanoid then return false end

    local backpack = local_player:FindFirstChild("Backpack")
    if backpack then
        local gun = backpack:FindFirstChild("Laser Gun")
        if gun and gun:IsA("Tool") then
            humanoid:EquipTool(gun)
            return true
        end
    end
    return char:FindFirstChild("Laser Gun") ~= nil
end

-- // === TOGGLE ===
local function toggle_lagger()
    lagger_enabled = not lagger_enabled

    if lagger_enabled then
        local equipped = equip_laser_gun()
        button.Text = equipped and "Fps Devour\nACTIVE" or "Fps Devour\nNO GUN"
        button_gradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(70, 0, 0)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(90, 20, 20))
        })
        info_text.Text = equipped and "Spamming..." or "Get Laser Gun!"
    else
        button.Text = "Fps Devour\nR To Activate"
        button_gradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 40)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 60, 60))
        })
        info_text.Text = "Hold any tool to spam"
    end
end

-- // INPUT
local supp = false
button.MouseButton1Click:Connect(function()
    if supp then supp = false return end
    toggle_lagger()
end)

user_input_service.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.R then
        toggle_lagger()
    end
end)

-- // DRAGGABLE
local dragging = false
local drag_input, drag_start, start_pos
local drag_threshold = 6

local function update_input(input)
    local delta = input.Position - drag_start
    frame.Position = UDim2.new(
        start_pos.X.Scale, start_pos.X.Offset + delta.X,
        start_pos.Y.Scale, start_pos.Y.Offset + delta.Y
    )
end

frame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        drag_start = input.Position
        start_pos = frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

frame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        drag_input = input
    end
end)

user_input_service.InputChanged:Connect(function(input)
    if dragging and input == drag_input and (input.Position - drag_start).Magnitude > drag_threshold then
        supp = true
        update_input(input)
    end
end)

-- // GET NEAREST
local function get_nearest()
    local char = local_player.Character
    if not char or not char.PrimaryPart then return nil end
    local pos = char.PrimaryPart.Position
    local nearest, dist = nil, math.huge

    for _, plr in players:GetPlayers() do
        if plr ~= local_player and plr.Character and plr.Character.PrimaryPart then
            local d = (pos - plr.Character.PrimaryPart.Position).Magnitude
            if d < dist then
                dist = d
                nearest = plr
            end
        end
    end
    return nearest
end

-- // MAIN LOOP: Spam while ANY tool is equipped
run_service.RenderStepped:Connect(function()
    local char = local_player.Character
    if not char or not char.PrimaryPart then return end

    local tool = char:FindFirstChildOfClass("Tool")
    local has_tool = tool ~= nil

    if has_tool ~= last_equipped then
        last_equipped = has_tool
        if lagger_enabled and has_tool then
            button.Text = "Fps Devour\nACTIVE (" .. tool.Name .. ")"
            info_text.Text = "Spamming with " .. tool.Name
        end
    end

    if not (lagger_enabled and has_tool) then return end

    local target = get_nearest()
    if not target or not target.Character or not target.Character.PrimaryPart then return end

    local pos1 = char.PrimaryPart.Position
    local pos2 = target.Character.PrimaryPart.Position
    local dir = (pos2 - pos1).Unit
    local id = http_service:GenerateGUID(false):lower():gsub("-", "")

    remote:FireServer(id, pos1, dir, workspace:GetServerTimeNow())
end)
